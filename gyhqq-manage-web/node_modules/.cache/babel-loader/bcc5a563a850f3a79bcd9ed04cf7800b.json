{"remainingRequest":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\babel-loader\\lib\\index.js!C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vuetify-loader\\lib\\loader.js!C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\src\\components\\tree\\Tree.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\src\\components\\tree\\Tree.vue","mtime":1566198667880},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1566198635392},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1566198634345},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1566198662963},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1566198635392},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1566198662436}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport TreeItem from './TreeItem';\nexport default {\n  name: \"vTree\",\n  props: {\n    url: String,\n    isEdit: {\n      type: Boolean,\n      default: false\n    },\n    treeData: {\n      type: Array\n    }\n  },\n  data: function data() {\n    return {\n      db: [],\n      nodes: {\n        opened: null,\n        selected: {\n          isSelected: false\n        }\n      }\n    };\n  },\n  components: {\n    TreeItem: TreeItem\n  },\n  created: function created() {\n    if (this.treeData && this.treeData.length > 0) {\n      this.db = this.treeData;\n      return;\n    }\n\n    this.getData();\n  },\n  methods: {\n    getData: function getData() {\n      var _this = this;\n\n      this.$http.get(this.url, {\n        params: {\n          pid: 0\n        }\n      }).then(function (resp) {\n        _this.db = resp.data;\n\n        _this.db.forEach(function (n) {\n          return n['path'] = [n.name];\n        });\n      });\n    },\n    handleAdd: function handleAdd(node) {\n      this.$emit(\"handleAdd\", this.copyNodeInfo(node));\n    },\n    handleEdit: function handleEdit(id, name) {\n      this.$emit(\"handleEdit\", id, name);\n    },\n    handleDelete: function handleDelete(id) {\n      this.deleteById(id, this.db);\n      this.$emit(\"handleDelete\", id);\n    },\n    handleClick: function handleClick(node) {\n      this.$emit(\"handleClick\", this.copyNodeInfo(node));\n    },\n    // 根据id删除\n    deleteById: function deleteById(id, arr) {\n      var src = arr || this.db;\n\n      for (var i in src) {\n        var d = src[i];\n\n        if (d.id === id) {\n          src.splice(i, 1);\n          return;\n        }\n\n        if (d.children && d.children.length > 0) {\n          this.deleteById(id, d.children);\n        }\n      }\n    },\n    copyNodeInfo: function copyNodeInfo(node) {\n      var o = {};\n\n      for (var i in node) {\n        o[i] = node[i];\n      }\n\n      return o;\n    }\n  },\n  watch: {}\n};",{"version":3,"sources":["Tree.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-list class=\"pt-0 pb-0\" dense>\r\n    <TreeItem\r\n      class=\"item\" :model=\"model\" v-for=\"(model, index) in db\" :key=\"index\"\r\n      :url=\"url\"\r\n      :isEdit=\"isEdit\"\r\n      :nodes=\"nodes\"\r\n      @handleAdd=\"handleAdd\"\r\n      @handleEdit=\"handleEdit\"\r\n      @handleDelete=\"handleDelete\"\r\n      @handleClick=\"handleClick\"\r\n    />\r\n  </v-list>\r\n</template>\r\n\r\n<script>\r\n  import TreeItem from './TreeItem';\r\n\r\n  export default {\r\n    name: \"vTree\",\r\n    props: {\r\n      url: String,\r\n      isEdit: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      treeData:{\r\n        type:Array\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        db: [],\r\n        nodes:{\r\n          opened:null,\r\n          selected:{isSelected:false}\r\n        }\r\n      }\r\n    },\r\n    components: {\r\n      TreeItem\r\n    },\r\n    created() {\r\n      if(this.treeData && this.treeData.length > 0){\r\n        this.db = this.treeData;\r\n        return;\r\n      }\r\n      this.getData();\r\n    },\r\n    methods: {\r\n      getData() {\r\n        this.$http.get(this.url, {params: {pid: 0}}).then(resp => {\r\n          this.db = resp.data;\r\n          this.db.forEach(n => n['path'] = [n.name])\r\n        })\r\n      },\r\n      handleAdd(node) {\r\n        this.$emit(\"handleAdd\", this.copyNodeInfo(node));\r\n      },\r\n      handleEdit(id, name) {\r\n        this.$emit(\"handleEdit\", id, name)\r\n      },\r\n      handleDelete(id) {\r\n        this.deleteById(id, this.db);\r\n        this.$emit(\"handleDelete\", id);\r\n      },\r\n      handleClick(node){\r\n        this.$emit(\"handleClick\", this.copyNodeInfo(node))\r\n      },\r\n      // 根据id删除\r\n      deleteById(id, arr) {\r\n        let src = arr || this.db;\r\n        for (let i in src) {\r\n          let d = src[i];\r\n          if (d.id === id) {\r\n            src.splice(i, 1)\r\n            return;\r\n          }\r\n          if (d.children && d.children.length > 0) {\r\n            this.deleteById(id, d.children)\r\n          }\r\n        }\r\n      },\r\n      copyNodeInfo(node){\r\n        const o = {};\r\n        for(let i in node){\r\n          o[i] = node[i];\r\n        }\r\n        return o;\r\n      }\r\n    },\r\n    watch: {}\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n  .item {\r\n    cursor: pointer;\r\n  }\r\n</style>\r\n"],"sourceRoot":"src/components/tree"}]}
{"remainingRequest":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\src\\views\\item\\specification\\SpecGroup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\src\\views\\item\\specification\\SpecGroup.vue","mtime":1566198667907},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1566198635392},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\babel-loader\\lib\\index.js","mtime":1566198634345},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1566198662963},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1566198635392},{"path":"C:\\Projects\\IDEA\\hobby\\store\\gyhqq-manage-web\\node_modules\\vue-loader\\lib\\index.js","mtime":1566198662436}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: \"spec-group\",\n  props: {\n    cid: {\n      type: Number,\n      default: 0,\n    },\n  },\n  data() {\n    return {\n      groups: [], // 当前分类下的规格组的集合\n      headers: [\n        {text: \"id\", value: \"id\", align: \"center\", sortable: false},\n        {text: \"组名\", value: \"name\", align: \"center\", sortable: false},\n        {text: \"操作\", align: \"center\", sortable: false}\n      ],\n      show: false, // 是否打开编辑窗口\n      group: {name: ''},\n      isEdit: false, // 是否是编辑\n    };\n  },\n  watch: {\n    cid() {\n      this.loadData();\n    }\n  },\n  methods: {\n    loadData() {\n      this.$http.get(\"/item/spec/groups/of/category/?id=\" + this.cid)\n        .then(({data}) => {\n          this.groups = data;\n        })\n        .catch(() => {\n          this.groups = [];\n        })\n    },\n    editGroup(group) {\n      Object.assign(this.group, group);\n      this.show = true;\n      this.isEdit = true;\n    },\n    addGroup() {\n      this.group = {cid: this.cid};\n      this.show = true;\n      this.isEdit = false;\n    },\n    save() {\n      this.$http({\n        method: this.isEdit ? 'put' : 'post',\n        url: '/item/spec/group',\n        data: this.group\n      }).then(() => {\n        // 关闭窗口\n        this.show = false;\n        this.$message.success(\"保存成功！\");\n        this.loadData();\n      }).catch(() => {\n        this.$message.error(\"保存失败！\");\n      });\n    },\n    deleteGroup(id) {\n      this.$message.confirm(\"确认要删除分组吗？\")\n        .then(() => {\n          this.$http.delete(\"/item/spec/group/\" + id)\n            .then(() => {\n              this.$message.success(\"删除成功\");\n              this.loadData();\n            })\n        })\n    },\n    selectGroup(group) {\n      this.$emit(\"select\", group);\n    }\n  }\n};\n",{"version":3,"sources":["SpecGroup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SpecGroup.vue","sourceRoot":"src/views/item/specification","sourcesContent":["<template>\r\n  <div>\r\n    <v-data-table\r\n      :headers=\"headers\"\r\n      :items=\"groups\"\r\n      hide-actions\r\n      class=\"elevation-0\"\r\n    >\r\n      <template slot=\"items\" slot-scope=\"props\">\r\n\r\n            <tr @click=\"selectGroup(props.item)\">\r\n              <td class=\"text-xs-center\">{{ props.item.id }}</td>\r\n              <td class=\"text-xs-center\">{{ props.item.name }}</td>\r\n              <td class=\"justify-center layout px-0\">\r\n                <v-btn icon @click.stop=\"editGroup(props.item)\">\r\n                  <i class=\"el-icon-edit\"/>\r\n                </v-btn>\r\n                <v-btn icon @click.stop=\"deleteGroup(props.item.id)\">\r\n                  <i class=\"el-icon-delete\"/>\r\n                </v-btn>\r\n              </td>\r\n            </tr>\r\n\r\n      </template>\r\n      <template slot=\"no-data\">\r\n        该分类下暂无规格组或尚未选择分类\r\n      </template>\r\n    </v-data-table>\r\n\r\n    <v-btn color='primary' @click=\"addGroup\">新增分组</v-btn>\r\n    <v-dialog v-model=\"show\" width=\"300\" height=\"200\">\r\n      <v-card>\r\n        <v-card-text>\r\n          <v-text-field label=\"分组名称：\" v-model=\"group.name\"/>\r\n        </v-card-text>\r\n        <v-card-actions>\r\n          <v-spacer/>\r\n          <v-btn color=\"blue darken-1\" flat @click.native=\"show=false\">取消</v-btn>\r\n          <v-btn color=\"blue darken-1\" flat @click.native=\"save\">保存</v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"spec-group\",\r\n    props: {\r\n      cid: {\r\n        type: Number,\r\n        default: 0,\r\n      },\r\n    },\r\n    data() {\r\n      return {\r\n        groups: [], // 当前分类下的规格组的集合\r\n        headers: [\r\n          {text: \"id\", value: \"id\", align: \"center\", sortable: false},\r\n          {text: \"组名\", value: \"name\", align: \"center\", sortable: false},\r\n          {text: \"操作\", align: \"center\", sortable: false}\r\n        ],\r\n        show: false, // 是否打开编辑窗口\r\n        group: {name: ''},\r\n        isEdit: false, // 是否是编辑\r\n      };\r\n    },\r\n    watch: {\r\n      cid() {\r\n        this.loadData();\r\n      }\r\n    },\r\n    methods: {\r\n      loadData() {\r\n        this.$http.get(\"/item/spec/groups/of/category/?id=\" + this.cid)\r\n          .then(({data}) => {\r\n            this.groups = data;\r\n          })\r\n          .catch(() => {\r\n            this.groups = [];\r\n          })\r\n      },\r\n      editGroup(group) {\r\n        Object.assign(this.group, group);\r\n        this.show = true;\r\n        this.isEdit = true;\r\n      },\r\n      addGroup() {\r\n        this.group = {cid: this.cid};\r\n        this.show = true;\r\n        this.isEdit = false;\r\n      },\r\n      save() {\r\n        this.$http({\r\n          method: this.isEdit ? 'put' : 'post',\r\n          url: '/item/spec/group',\r\n          data: this.group\r\n        }).then(() => {\r\n          // 关闭窗口\r\n          this.show = false;\r\n          this.$message.success(\"保存成功！\");\r\n          this.loadData();\r\n        }).catch(() => {\r\n          this.$message.error(\"保存失败！\");\r\n        });\r\n      },\r\n      deleteGroup(id) {\r\n        this.$message.confirm(\"确认要删除分组吗？\")\r\n          .then(() => {\r\n            this.$http.delete(\"/item/spec/group/\" + id)\r\n              .then(() => {\r\n                this.$message.success(\"删除成功\");\r\n                this.loadData();\r\n              })\r\n          })\r\n      },\r\n      selectGroup(group) {\r\n        this.$emit(\"select\", group);\r\n      }\r\n    }\r\n  };\r\n</script>\r\n"]}]}